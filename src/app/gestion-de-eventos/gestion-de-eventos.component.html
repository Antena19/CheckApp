<!-- BARRA DE NAVEGACION -->
<ion-header>
  <ion-toolbar color="custom-dark">
    <!-- BOTON volver -->
    <ion-buttons slot="start">
      <ion-button (click)="volver()">
        <ion-icon name="arrow-back" slot="icon-only" class="white-icon"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      <div class="header-content">
        <ion-img src="assets/img/logo-check-app.png" class="header-logo"></ion-img>
        <span class="header-title">CheckApp</span>
      </div>
    </ion-title>

  </ion-toolbar>
</ion-header>

<ion-content id="main-content" class="ion-padding" [fullscreen]="true">
  <h1 class="main-title">GESTIÓN DE EVENTOS</h1>

  <ion-button 
    class="create-event-button" 
    routerLink="/crear-evento"
    style="background-color: #272E30; color: white;">
   CREAR EVENTO
  </ion-button>

  <div *ngIf="eventos && eventos.length > 0" class="event-container">
    <h2 class="subtitle white-text">Eventos Creados</h2>
    <div *ngFor="let evento of eventos; let i = index" class="event-card">
      <div class="event-title">{{ evento.nombre }}</div>
      <div class="event-details">
        <p><strong>Organizador:</strong> {{ evento.organizador }}</p>
        <p><strong>Hora de Inicio:</strong> {{ evento.horaInicio }}</p> <!-- Mostrar la hora de inicio -->
        <p><strong>Hora de Término:</strong> {{ evento.horaTermino }}</p> <!-- Mostrar la hora de término -->
        <p><strong>Lugar:</strong> {{ evento.lugar }}</p>
        <img *ngIf="evento.imagen" [src]="evento.imagen" alt="{{ evento.lugar }}" style="width: 100%; height: auto;">
      </div>
      <div class="event-actions">
        <!-- Cambiado i a evento.id -->
        <ion-button class="boton-editar" (click)="editarEvento(evento.id)">Editar</ion-button>
        <ion-button class="boton-eliminar" (click)="confirmarEliminarEvento(evento.id)">Eliminar</ion-button>
      </div>
      <div class="register-assistance">
        <ion-button
          fill="solid"
          class="register-assistance-button"
          (click)="abrirModalRegistrarAsistencia(evento.id)">
          REGISTRAR ASISTENCIA
        </ion-button>
      </div>
    </div>
  </div>

  <div *ngIf="!eventos || eventos.length === 0" class="white-text">
    <p>No hay eventos creados todavía.</p>
  </div>
</ion-content>
